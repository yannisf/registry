<div class="page-header">
    <h2>Παιδί
        <small>
            <person-name person="data.child"></person-name>
        </small>
    </h2>
</div>

<display-child child="data.child" address="data.address"></display-child>

<fieldset>
    <legend>Κηδεμόνες <span class="badge" ng-if="data.relationships.length > 0">{{data.relationships.length}}</span>
    </legend>

    <div ng-if="data.relationships.length == 0"> Δεν έχει εισαχθεί κανείς κηδεμόνας ακόμα</div>

    <table class="table table-striped table-hover" ng-if="data.relationships.length > 0">
        <thead>
        <tr>
            <th>Όνομα</th>
            <th>Ιδιότητα</th>
            <th>&nbsp;</th>
        </tr>
        </thead>

        <tbody>
        <tr ng-repeat="relationship in data.relationships" class="clickable">
            <td ng-click="go('/guardian/' + relationship.guardian.id + '/view')">{{relationship.guardian.firstName}}
                {{relationship.guardian.lastName}}
            </td>
            <td ng-click="go('/guardian/' + relationship.guardian.id + '/view')">
                {{relationship.relationship.relationshipMetadata.type | relationshipFilter}}
            </td>
            <td class="text-right">
                <button class="btn btn-xs" ng-click="go('/guardian/' + relationship.guardian.id + '/edit')">
                    <span class="glyphicon glyphicon-edit"></span> Ανανέωση
                </button>
                <button class="btn btn-xs" ng-click="confirmRemoveRelationship(relationship.relationship.id)">
                    <span class="glyphicon glyphicon-remove-sign"></span> Διαγραφή
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</fieldset>

<div style="padding: 1em">
    <button class="btn btn-default" ng-click="toChildList()">
        <span class="glyphicon glyphicon-arrow-left"></span> Πίσω
    </button>
    <button class="btn btn-primary btn-md" ng-click="addGuardian()">
        <span class="glyphicon glyphicon-user"></span> Εισαγωγή κηδεμόνα
    </button>
    <button class="btn btn-md btn-primary" ng-click="go('/child/' + data.child.id  + '/update')">
        <span class="glyphicon glyphicon-edit"></span> Ανανέωση
    </button>
    <button class="btn btn-md btn-danger" ng-click="confirmRemoveChild()">
        <span class="glyphicon glyphicon-remove-sign"></span> Διαγραφή
    </button>
</div>