<div class="page-header">
    <h2>{{viewData.submitLabel}} κηδεμόνα
        <small>
            <person-name person="data.guardian"></person-name>
        </small>
    </h2>
</div>

<div>
    <form class="form-horizontal" role="form">
        <input type="hidden" ng-model="data.guardian.id">
        <input type="hidden" ng-model="data.guardian.id">

        <div class="form-group">
            <label for="firstName" class="col-sm-2 control-label">Όνομα</label>

            <div class="col-sm-3">
            <input type="text" class="form-control" id="firstName" autocomplete="off"
                       ng-model="data.guardian.firstName"
                       typeahead="firstName for firstName in typeaheads.getFirstNames($viewValue)"
                       typeahead-min-length="1" typeahead-wait-ms="500"/>
            </div>
        </div>

        <div class="form-group">
            <label for="lastName" class="col-sm-2 control-label">Επώνυμο</label>

            <div class="col-sm-3">
            <input type="text" class="form-control" id="lastName" autocomplete="off"
                       ng-model="data.guardian.lastName"
                       typeahead="lastName for lastName in typeaheads.getLastNames($viewValue)"
                       typeahead-min-length="1" typeahead-wait-ms="500"/>
            </div>
        </div>

        <div class="form-group">
            <label for="dateOfBirth" class="col-sm-2 control-label">Ημ/νία γεν.</label>

            <div class="col-sm-3">
            <input type="text" class="form-control" id="dateOfBirth" ng-model="data.guardian.dateOfBirth"
                       placeholder="ΗΗ-ΜΜ-ΧΧΧΧ"/>
            </div>
        </div>

        <div class="form-group">
            <label for="genre" class="col-sm-2 control-label">Φύλο</label>

            <div class="col-sm-3">
                <select class="form-control" id="genre" ng-model="data.guardian.genre"/>
                <option value="MALE">Άνδρας</option>
                <option value="FEMALE">Γυναίκα</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="nationality" class="col-sm-2 control-label">Υπηκοότητα</label>

            <div class="col-sm-3">
            <input type="text" class="form-control" id="nationality" autocomplete="off"
                       ng-model="data.guardian.nationality"
                       typeahead="nationality for nationality in typeaheads.getNationalities($viewValue)"
                       typeahead-min-length="1" typeahead-wait-ms="500"/>
            </div>
        </div>

        <div class="form-group">
            <label for="profession" class="col-sm-2 control-label">Επάγγελμα</label>

            <div class="col-sm-3">
            <input type="text" class="form-control" id="profession" autocomplete="off"
                       ng-model="data.guardian.profession"
                       typeahead="profession for profession in typeaheads.getProfessions($viewValue)"
                       typeahead-min-length="1" typeahead-wait-ms="500"/>
            </div>
        </div>

        <div class="form-group">
            <label for="email" class="col-sm-2 control-label">E-mail</label>

            <div class="col-sm-3">
            <input type="text" class="form-control" id="email" ng-model="data.guardian.email"/>
            </div>
        </div>

        <div class="form-group">
            <label for="relationship" class="col-sm-2 control-label">Σχέση με το παιδί</label>

            <div class="col-sm-3">
            <select class="form-control" id="relationship" ng-model="data.relationshipMetadata.type"
                        ng-options="relationship|relationshipFilter for relationship in relationshipTypes"/>
                <option value="">--</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="notes" class="col-sm-2 control-label">Σημειώσεις</label>

            <div class="col-sm-3">
            <textarea rows="3" class="form-control" id="notes"
                          ng-model="data.relationshipMetadata.notes"></textarea>
            </div>
        </div>

        <fieldset>
            <legend>Τηλέφωνα
                <button class="btn btn-xs" ng-click="addTelephone()">
                    <span class="glyphicon glyphicon-plus"></span>
                </button>
            </legend>

            <div ng-repeat="telephone in data.guardian.telephones">
                <div class="form-group">
                    <label for="telephoneNumber" class="col-sm-2 control-label">Τηλέφωνο {{$index + 1}}</label>

                    <div class="col-sm-3">
                    <input type="text" class="form-control" id="telephoneNumber" ng-model="telephone.number"/>
                    </div>
                    <div class="col-sm-2">
                    <select class="form-control" id="telephoneType" ng-model="telephone.type"
                                ng-options="type|telephoneTypeFilter for type in telephoneTypes">
                            <option value="">--</option>
                        </select>
                    </div>
                    <div class="col-sm-1">
                    <button class="btn btn-xs" ng-click="removeTelephone($index)">
                            <span class="glyphicon glyphicon-remove"></span>
                        </button>
                    </div>

                </div>

            </div>
        </fieldset>

        <input-address address="data.address" share-option="true" typeaheads="typeaheads"></input-address>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-5">
            <button class="btn btn-primary" ng-click="submit()">{{viewData.submitLabel}}</button>
                <button class="btn btn-default" ng-click="toScopedChild()">Άκυρωση</button>
            </div>
        </div>
    </form>
</div>
